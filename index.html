<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>中文小游戏入口（Game Hub）</title>
  <style>
    :root{
      --bg1:#081226;
      --bg2:#050a16;
      --panel: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.12);
      --text:#e9eeff;
      --muted:#a9b5e6;
      --accent:#ffd54a;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius: 18px;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans",sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 800px at 20% 0%, #1a2b66 0%, var(--bg1) 55%, var(--bg2) 100%);
      min-height:100vh;
      padding:22px 16px 40px;
    }
    .wrap{max-width:1200px;margin:0 auto;}
    .top{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--border);
      border-radius: 22px;
      padding:18px 18px;
      box-shadow: var(--shadow);
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      align-items:flex-start;
    }
    h1{margin:0 0 6px 0;font-size:22px;letter-spacing:.2px;}
    .sub{margin:0;color:var(--muted);font-size:13px;line-height:1.35;}
    .chips{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end;align-items:center;}
    .chip{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      padding:10px 12px;
      border-radius: 999px;
      color:var(--muted);
      font-weight:800;
      font-size:13px;
      white-space:nowrap;
    }
    .chip b{color:var(--accent);}
    .grid{
      margin-top:16px;
      display:grid;
      grid-template-columns: repeat(4, minmax(260px, 1fr));
      gap:14px;
    }
    @media (max-width: 1100px){ .grid{grid-template-columns: repeat(2, minmax(260px, 1fr));} }
    @media (max-width: 640px){ .grid{grid-template-columns: 1fr;} }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.12));
      border:1px solid var(--border);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      min-height: 280px;
    }
    .tags{display:flex;gap:10px;flex-wrap:wrap;}
    .tag{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color:var(--muted);
      font-weight:900;
      font-size:13px;
    }
    .tag b{color:var(--accent);}
    .title2{
      margin:0;
      font-size:22px;
      font-weight:950;
      letter-spacing:.2px;
    }
    .desc{
      margin:0;
      color:var(--muted);
      line-height:1.45;
      font-weight:650;
      font-size:14px;
    }
    .btnrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:auto;}
    .btn{
      cursor:pointer;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color:var(--text);
      font-weight:900;
      padding:10px 14px;
      font-size:14px;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      min-width:120px;
    }
    .btn:hover{filter:brightness(1.06);}
    .btn.secondary{
      background: transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,.18);
    }
    .linkbox{
      border:1px dashed rgba(255,255,255,.22);
      border-radius:14px;
      padding:10px 12px;
      color:var(--muted);
      font-weight:800;
      font-size:13px;
      line-height:1.35;
      word-break:break-all;
    }
    .linkbox span{color:var(--accent);}
    .hint{
      margin-top:16px;
      color:rgba(233,238,255,.75);
      font-size:13px;
      line-height:1.45;
    }
    .hint b{color:var(--accent);}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div>
        <h1>中文小游戏入口（Game Hub）</h1>
        <p class="sub">直接点进入游戏即可。你只需要在 GitHub 更新文件，Netlify 会自动同步更新。</p>
      </div>
      <div class="chips">
        <div class="chip">建议分享： <b>Netlify</b> 链接</div>
        <div class="chip">单个游戏： <b>可单独发链接</b></div>
      </div>
    </div>

    <div class="grid" id="grid"></div>

    <div class="hint">
      使用提示：以后每加一个新游戏，只需要把新文件上传到仓库根目录（例如 <b>ESC_2_16.html</b>），
      然后在本页复制一张卡片，改 <b>title</b> 和 <b>href</b> 即可。<br/>
      如果你想把链接发给学生，推荐发 Netlify 域名下的链接（更稳定）。例如：<b>https://chinese-games.netlify.app/ESC_2_6.html</b>
    </div>
  </div>

  <script>
    // ✅ 只要在这里加一条，就能自动生成卡片 + 按钮 + 直接链接
    const GAMES = [
      {
        unit: "ESC-2-6",
        type: "汉字拼拼乐",
        skill: "词汇组合",
        title: "汉字拼拼乐（生病单元词汇）",
        desc: "从两边各选一个字，拼出正确词汇。拼对得分，全部完成通关。",
        file: "ESC_2_6.html",
        mode: "Independent"
      },
      {
        unit: "ESC-2-14",
        type: "Jeopardy",
        mode: "Whole-class",
        title: "Furniture Jeopardy（WL1 + WL2 Spiral Review）",
        desc: "单击格子打开题卡 → 在题卡内点击 Reveal Answer → 标记已用。内置三队计分。",
        file: "ESC_2_14.html"
      },
      {
        unit: "ESC-2-14",
        type: "Unscramble",
        mode: "Independent",
        title: "Sentence Unscramble（Text 1 + Text 2）",
        desc: "点/拖动词语卡片组成句子 → Check → 必要时 Reveal。可开关拼音与英文。",
        file: "ESC_2_14_unscramble.html"
      },
      {
        unit: "ESC-2-15",
        type: "Jeopardy",
        mode: "Whole-class",
        title: "Neighborhood Jeopardy（Lesson 6 Spiral Review · WL1 + WL2）",
        desc: "单击金额打开题卡（自动锁格）→ Show Answer 两步显示答案。三队计分，支持导出状态。",
        file: "ESC_2_15.html"
      }
    ];

    const grid = document.getElementById("grid");

    const githubBase = location.origin + location.pathname.replace(/\/index\.html$/, "/");
    const netlifyBase = "https://chinese-games.netlify.app/";

    function cardHTML(g){
      const githubUrl = githubBase + g.file;
      const netlifyUrl = netlifyBase + g.file;

      return `
        <div class="card">
          <div class="tags">
            <div class="tag">Unit: <b>${g.unit}</b></div>
            <div class="tag">Type: <b>${g.type}</b></div>
            ${g.skill ? `<div class="tag">Skill: <b>${g.skill}</b></div>` : ``}
            ${g.mode ? `<div class="tag">Mode: <b>${g.mode}</b></div>` : ``}
          </div>

          <div>
            <div class="title2">${g.title}</div>
            <p class="desc">${g.desc}</p>
          </div>

          <div class="btnrow">
            <a class="btn" href="${g.file}">进入游戏</a>
            <a class="btn secondary" href="${g.file}" target="_blank" rel="noopener">新窗口打开</a>
          </div>

          <div class="linkbox">
            直接链接（GitHub Pages）：<br/>
            <span>${githubUrl}</span><br/><br/>
            备用链接（Netlify）：<br/>
            <span>${netlifyUrl}</span>
          </div>
        </div>
      `;
    }

    grid.innerHTML = GAMES.map(cardHTML).join("");
  </script>
</body>
</html>
